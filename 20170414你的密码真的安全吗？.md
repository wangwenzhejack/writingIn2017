这是一篇有些偏科普性质的文章，希望你能够耐心看完，因为信息安全是每个处于信息时代的人都必须要面对的问题。

可能大多数人都有过被盗号的经历，即使没有被盗过账号的人也不要暗自庆幸，很有可能你的密码已经被泄露，没有被盗号，只是因为你的账号没有价值而已。

目前比较常见的盗取密码的手段有两种：植入木马程序和入侵服务器。为了方便，我们把在网络传输过程中被盗取的情况也归入后一种。这两种方式分别对应用户终端和平台提供商。

植入木马程序从用户终端下手，通过诱导钓鱼等方式偷偷地在你的电脑或手机中植入木马程序。当你需要登录某个平台输入密码时，木马程序就会在后台记录你输入的字符，并将记录的结果传给黑客，达到窃取密码的目的。这种手段相对来说比较容易防范，只要多查杀病毒，不去浏览不安全的网站，不乱安装不明来源的应用程序就可以避免。

随着人们安全意识的提高以及杀毒软件、操作系统的日趋完善，第一种方式已经不能满足黑客想法了。植入木马程序每次只能得到一小部分人的密码，效率太低，所以大多数黑客就选择从平台提供商下手，通过安全漏洞入侵他们的服务器，将用户的数据全部“拖走”，俗称“拖库”。“小米论坛”、“网易邮箱”、“学信网”、“迅雷”、“12306”等各大网站先后被爆“拖库”。有的网站甚至被爆用户的密码不经过任何加密明文存储。这一切是真是假我们不去追究，但国内互联网公司的信息安全意识不足倒是真的，我们几乎在网上“裸奔”。

在信息时代，我们每个人都可能有大大小小几十个账号，登录每个网站可能最先要求你的就是注册或登录。这么多的账号如果每个密码我们都设置的不一样，可能记着记着就搞混了，自己就忘了密码是什么。所以现在大多数人选择都用一个密码，不管你是什么平台，我注册的时候都用我的老密码。但这种行为存在着非常大的安全隐患。

举例来说，你要买衣服，在淘宝注册了一个账户，密码是123456（千万不要设置这么简单的密码，不到一秒就会被破解），然后你要发邮件，又在网易注册了一个邮箱，你为了记忆方便，密码也设置为123456。突然有一天，网易的工程师一个没留神，服务器被黑客拖库了。黑客拿到了网易服务器的数据，你在网易的账号和密码就会暴露，然后黑客就拿着你在网易的账号和密码去尝试登陆其他网站，结果在淘宝网上顺利登陆了，然后花光了你的钱。本来网易被拖库你只是损失了一个账号，但由于你密码相同，就会同时损失掉淘宝账户。假如你所有账户的密码都一样，后果可想而知。

其实我举的例子有些理想化，稍微具有一些常识的公司，账号密码都不会以原文存储，黑客拿到手的只能是这样的一堆数据：



这是我在网络上随便找的一张图，其中两道粗黑线遮住的地方就是加密后的密码，你可能会想，即便黑客拿走了也只是加密后的密码，他不知道我密码原文是什么，所以不用担心。但黑客不会就此善罢甘休。

为此我们就需要来详细了解一下这种密码的加密算法，这是我这篇文章最想让大家知道的内容。现在比较流行的密码算法有MD5、SHA-1、SHA-265、SHA-512等，它们编码方式不同，加密强度也不同，但它们的原理基本相同，因此被统称为HASH，中文音译哈希算法。我为哈希算法写了一个微信小程序，点击我的公众号头像就能看见。

这个小程序的功能非常简单，将你想要加密的文字输入进去，选择想要加密的算法类型，点击“转换”按钮就能够输出加密后的内容。例如我输入“我爱你”，使用MD5算法转换后输出的是：4f2016c6b934d55bd7120e5d0e62cce3；输入“123456”，输出的是：e10adc3949ba59abbe56e057f20f883e。




这种算法的神奇之处在于，不管你输入的字符有多少，甚至你什么也不输入，它输出的永远都是一串16进制32位的字符，这其中，哪怕你有一点点的改动，输出的结果就会大相径庭，例如刚才123456输出的结果是：e10adc3949ba59abbe56e057f20f883e；而我改动一位数，123455，输出的结果就是：00c66aaf5f2c3f49946f15c1ad2ea0d3，完全不一样！

这种算法的另一种特性是算法不可逆，例如给你一串数字84546132，你能算出它的MD5值是：e4332e4bf1763118314cb7a41a08e4c4，但相反，如果随机给你一串32位16进制的字符，却没有任何一种算法能计算出它的原文，因此也就达到加密的作用。

一切看起来很美好，似乎哈希算法是最完美的结局方案，黑客拿到这么长一串数字看起来根本没有办法知道我的密码原文，他也不能拿着这么长的一串数字去登录我其他的账户嘛（因为每次登录都会有一个哈希过程，拿哈希过的数据再次哈希结果就完全不同）。但黑客也不是吃素的，他们采用了一个看似妥协实则有效的办法——彩虹表。

既然哈希算法是一个不可逆的过程，那就用最笨的方法，一个一个计算哈希值，然后一一对应。黑客们就开始从1开始，计算哈希值，记录下来，接着计算2、3、4···据说现在11位以下的纯数字MD5值已经被计算光了，黑客将这些计算后的值像字典一样一一对应保存在文件中，就成了彩虹表。使用的时候，只需要将拖库等手段获取到的16进制字符放到彩虹表中一查，如果是他原来计算过的，立马就能查出密码原文。但彩虹表也不是万能的，这么多年计算机一刻也没停息的计算也只是计算到了11位以下的纯数字，所以，我们把密码尽量设置成字母大小写加数字加符号的组合，就能以此来对抗彩虹表。

但就算你的密码足够复杂，也不要轻易尝试将所有平台都设置成一个密码，因为计算机的计算能力也不能低估，很有可能你的密码就被计算出来了，这样就会危及其他账户的安全。但所有密码不同又不方便记忆，怎么办？我们可以采用一种“加盐”的方法。这种方法来源于一些程序员为用户加密时为了防止用户的密码与别的平台相同，会在用户原有的密码基础上加上“salt（盐）”这几个字母，然后再进行哈希加密，这样原有的彩虹表就会完全无用，除非它也加上salt这几个字母重新计算，又得几十年。当然不一定必须是salt这几个字母，可以是任意的字符。

并不是每个网站的程序员都会具有“加盐”的这种意识，所以，我们需要自己主动加盐，比如我原来的密码是wwz123456...，我所有的账号都用这个密码，这样很不安全，所以我在淘宝用wwz123456...taobao，在QQ用wwz123456...QQ，在网易用wwz123456...163，由于哈希算法改动一个字符就会完全不同的特性，这样我每个网站的加密后的值都不一样，而又方便记忆。当然也可以用其他的方式加盐，在前边加、在后边加、换不同的盐加等等。

各大网站总是被拖库，还有网络上彩虹表查询网站一大堆，所以你的密码很可能已经泄露，黑客不盗你，可能是因为你对他没有价值，但这仿佛就是一颗定时炸弹，随时都有可能爆炸，建议看到文章后能修改一下自己的密码，特别是只用同一个密码的人。


最后说两句：

1.

这是某彩虹表网站MD5的收录内容，所以11位以下纯数字的密码一定要更改。

2.
哈希算法除了加密以外还有其他的用途，比如防止合同篡改，双方可以在撰写完合同或文件以后hash一下，记下hash码，合同有任何改动，哪怕是一个标点，hash码就会不同，以此来保证文件不会被篡改。

每个应用程序也都会有一个hash码，如果你下载的应用程序的hash码与官方发布的不同，很有可能你下载的应用程序被修改过，可能被人植入病毒或篡改数据。

3.
山东大学的王小云教授已经先后发现了MD5、SHA等加密方式的快速碰撞方法，震惊世界密码学术界，是我们中国的骄傲。同时也意味着部分哈希算法的加密性不再固若金汤，世界各国都在努力寻求更加可靠的加密算法。中国的量子加密技术走在世界前列，赞一个。

4.

扫一扫不能用，直接点头像看

这是我开发的小程序，看看你密码哈希计算后的值是多少，然后拿这个值去cmd5.com等彩虹表网站试一下，能不能被查到。我原来的密码就被查到了，虽然字母数字和标点都有，但还是不安全。